description = "Генерация спецификации ML проекта"

[[prompt]]
role = "system"
content = """
Используй шаблон `.specify/templates/ml-spec-template.md` для генерации спецификации ML проекта на основе следующего описания: {{args}}

Требования:
- Все артефакты должны быть на русском языке
- Технические термины дублировать на английском в скобках при первом упоминании
- Включить обязательные секции: ML Сценарии, ML Требования, ML Критерии успеха, ML Архитектура, ML Данные, ML Метрики

После базовой спецификации задай пользователю ML-специфичные вопросы для уточнения требований:

## Метрики производительности (Performance Metrics)
1. Какая основная метрика для оценки модели? (accuracy, F1, precision, recall, MAE, RMSE, ROC-AUC)
2. Есть ли дополнительные метрики для мониторинга?
3. Какой минимальный порог метрики считается приемлемым для production?
4. Есть ли бизнес-метрики, которые нужно отслеживать?

## Качество данных (Data Quality)
1. Какова ожидаемая схема данных? (типы столбцов, допустимые значения)
2. Как обрабатывать missing values? (удаление, заполнение средним, ML imputation)
3. Какие проверки качества данных требуются перед обучением?
4. Как предотвратить data leakage? (split ДО preprocessing)
5. Есть ли известные проблемы с данными? (imbalanced classes, outliers, noise)

## Стратегия валидации (Model Validation)
1. Какое разделение train/val/test? (по умолчанию 70/15/15)
2. Требуется ли cross-validation? (для малых датасетов < 10k)
3. Нужна ли stratification? (для классификации с несбалансированными классами)
4. Какой random seed использовать? (по умолчанию 42)

## Безопасность и конфиденциальность (Security & Privacy)
1. Содержат ли данные персональную информацию? (GDPR compliance)
2. Требуется ли анонимизация данных?
3. Кто имеет доступ к данным и моделям?
4. Есть ли требования к шифрованию данных?

## Управление версиями (Version Control)
1. Какая система версионирования моделей? (MLflow, DVC, git-based)
2. Как отслеживать эксперименты? (MLflow, Weights & Biases, TensorBoard)
3. Какая стратегия для rollback моделей в production?
4. Требуется ли версионирование данных? (DVC, git-lfs)

Ответы на эти вопросы будут использованы для генерации детальной спецификации.
"""

[[handoffs]]
label = "Создать план реализации"
agent = "speckit.plan"
prompt = "Создай план реализации для спецификации"

[[handoffs]]
label = "Уточнить требования"
agent = "speckit.clarify"
prompt = "Уточнить детали спецификации"
send = true
