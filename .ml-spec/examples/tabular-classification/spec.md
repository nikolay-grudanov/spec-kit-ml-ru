# ML Спецификация: Классификация табличных данных

**Feature Branch**: `tabular-classification-example`
**Created**: 2026-02-13
**Status**: Draft
**Input**: Описание задачи: "Создать модель для классификации клиентов банка на уход/отток"

## ML Сценарии и тестирование *(обязательно)*

### ML История 1 - Базовая классификация (Приоритет: P1)

Как менеджер по удержанию клиентов, я хочу иметь модель, которая может предсказывать вероятность ухода клиента из банка, чтобы своевременно предлагать им удерживающие меры.

**Почему этот приоритет**: Это основная функция, которая позволит снизить отток клиентов и сохранить доходы банка.

**Независимый тест**: Можно протестировать, предоставив модель историческим данным и проверив, что AUC-ROC > 0.8.

**Сценарии приемки**:

1. **Given** данные о клиенте банка, **When** модель получает эти данные, **Then** модель правильно предсказывает вероятность ухода с точностью > 0.8
2. **Given** данные клиента с высоким риском ухода, **When** модель анализирует эти данные, **Then** модель присваивает ему высокую вероятность ухода (> 0.7)

---

### ML История 2 - Интерпретация прогнозов (Приоритет: P2)

Как аналитик, я хочу понимать, какие факторы влияют на решение модели, чтобы принимать обоснованные решения по удержанию клиентов.

**Почему этот приоритет**: Понимание причин ухода клиентов позволяет разрабатывать эффективные стратегии удержания.

**Независимый тест**: Можно протестировать, получив SHAP значения для нескольких клиентов и проверив, что они логически обоснованы.

**Сценарии приемки**:

1. **Given** клиент с высокой вероятностью ухода, **When** модель анализирует его данные, **Then** модель предоставляет объяснение ключевых факторов с помощью SHAP

---

### Граничные случаи

- Что происходит, когда в данных есть пропущенные значения?
- Как система обрабатывает клиентов с необычными характеристиками?

## ML Требования *(обязательно)*

### Функциональные требования

- **FR-001**: Модель ДОЛЖНА предсказывать вероятность ухода клиента с AUC-ROC > 0.8
- **FR-002**: Модель ДОЛЖНА обрабатывать одно предсказание за время не более 0.1 секунды
- **FR-003**: Система ДОЛЖНА сохранять результаты экспериментов в MLflow
- **FR-004**: Pipeline ДОЛЖЕН валидировать схему входных данных
- **FR-005**: Модель ДОЛЖНА быть интерпретируемой с помощью SHAP

### Ключевые сущности

- **Client Data**: Данные о клиентах банка
- **Churn Predictor**: Модель для предсказания оттока
- **Prediction Explanation**: Объяснение факторов, влияющих на решение

## ML Критерии успеха *(обязательно)*

### Измеримые результаты

- **SC-001**: Модель достигает AUC-ROC > 0.8 на тестовой выборке
- **SC-002**: Время инференса не превышает 0.1 секунды на предсказание
- **SC-003**: Модель предоставляет интерпретации с помощью SHAP для каждого предсказания
- **SC-004**: Результаты экспериментов сохраняются в MLflow с метриками и артефактами