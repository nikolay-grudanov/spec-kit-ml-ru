# ML Спецификация: [FEATURE NAME]

**Feature Branch**: `[###-feature-name]`
**Created**: [DATE]
**Status**: Draft
**Input**: Описание задачи: "$ARGUMENTS"

## ML Сценарии и тестирование *(обязательно)*

<!--
  ВАЖНО: ML пользовательские истории должны быть ПРИОРИТЕТИЗИРОВАНЫ как пользовательские путешествия, упорядоченные по важности.
  Каждая история/путешествие должна быть НЕЗАВИСИМО ТЕСТИРУЕМОЙ - это означает, что если вы реализуете только ОДНУ из них,
  вы все равно получите жизнеспособный продукт (MVP), который доставляет ценность.

  Назначьте приоритеты (P1, P2, P3 и т.д.) каждой истории, где P1 - самый критичный.
  Думайте о каждой истории как о самостоятельном срезе функциональности, который можно:
  - Разрабатывать независимо
  - Тестировать независимо
  - Развертывать независимо
  - Демонстрировать пользователям независимо
-->

### ML История 1 - [Краткое название] (Приоритет: P1)

[Опишите это ML-путешествие простым языком]

**Почему этот приоритет**: [Объясните ценность и почему у него такой приоритет]

**Независимый тест**: [Опишите, как это можно протестировать независимо - например, "Можно полностью протестировать с помощью [конкретное действие] и доставляет [конкретную ценность]"]

**Сценарии приемки**:

1. **Given** [начальное состояние], **When** [действие], **Then** [ожидаемый результат]
2. **Given** [начальное состояние], **When** [действие], **Then** [ожидаемый результат]

---

### ML История 2 - [Краткое название] (Приоритет: P2)

[Опишите это ML-путешествие простым языком]

**Почему этот приоритет**: [Объясните ценность и почему у него такой приоритет]

**Независимый тест**: [Опишите, как это можно протестировать независимо]

**Сценарии приемки**:

1. **Given** [начальное состояние], **When** [действие], **Then** [ожидаемый результат]

---

### ML История 3 - [Краткое название] (Приоритет: P3)

[Опишите это ML-путешествие простым языком]

**Почему этот приоритет**: [Объясните ценность и почему у него такой приоритет]

**Независимый тест**: [Опишите, как это можно протестировать независимо]

**Сценарии приемки**:

1. **Given** [начальное состояние], **When** [действие], **Then** [ожидаемый результат]

---

[Добавьте больше ML-историй по мере необходимости, каждая с назначенным приоритетом]

### Граничные случаи

<!--
  ОБЯЗАТЕЛЬНО: Содержимое в этом разделе представляет собой заглушки.
  Заполните их правильными граничными случаями.
-->

- Что происходит, когда [граничное условие]?
- Как система обрабатывает [сценарий ошибки]?

## ML Задача *(обязательно)*

### Тип ML задачи

Выберите тип задачи из следующих вариантов:
- Классификация (Classification)
- Регрессия (Regression)
- Кластеризация (Clustering)
- Обнаружение аномалий (Anomaly Detection)
- Прогнозирование временных рядов (Time Series Forecasting)
- Рекомендательные системы (Recommendation Systems)
- Обработка естественного языка (NLP)
- Компьютерное зрение (Computer Vision)
- Другое (Other)

**Выбранная задача**: [укажите тип задачи]

### Тип обучения

Выберите тип обучения:
- Supervised (с учителем)
- Unsupervised (без учителя)
- Reinforcement (с подкреплением)
- Semi-supervised (полуконтролируемое)

**Выбранный тип**: [укажите тип обучения]

## ML Требования *(обязательно)*

<!--
  ОБЯЗАТЕЛЬНО: Содержимое в этом разделе представляет собой заглушки.
  Заполните их правильными функциональными требованиями.
-->

### Функциональные требования

- **FR-001**: ML модель ДОЛЖНА [конкретная возможность, например, "предсказывать вероятность оттока"]
- **FR-002**: ML модель ДОЛЖНА [конкретная возможность, например, "обрабатывать числовые и категориальные признаки"]
- **FR-003**: Система ДОЛЖНА позволять [ключевое взаимодействие, например, "сохранять и загружать обученные модели"]
- **FR-004**: ML pipeline ДОЛЖЕН [требование к данным, например, "валидировать схему входных данных"]
- **FR-005**: ML система ДОЛЖНА [поведение, например, "логировать метрики в MLflow"]

*Пример пометки неясных требований:*

- **FR-006**: ML модель ДОЛЖНА использовать [НЕОБХОДИМО УТОЧНИТЬ: метод не указан - XGBoost, Neural Network?]
- **FR-007**: ML pipeline ДОЛЖЕН обрабатывать данные объемом [НЕОБХОДИМО УТОЧНИТЬ: объем данных не указан]

### Ключевые сущности *(включите, если функция включает данные)*

- **[Сущность 1]**: [Что она представляет, ключевые атрибуты без реализации]
- **[Сущность 2]**: [Что она представляет, отношения к другим сущностям]

## Входные и выходные данные *(обязательно)*

### Входные данные (Input Data)

**Описание**: [опишите входные данные]

**Тип данных**: [например, изображения, табличные данные, текст, временные ряды]

**Формат**: [например, CSV, PNG, JSON]

**Размер**: [например, 1000 записей, 10000 изображений]

### Выходные данные (Output Data)

**Описание**: [опишите выходные данные]

**Тип данных**: [например, класс, число, вероятность, текст]

**Формат**: [например, класс метка, вероятность, список]

## Источник и размер данных *(обязательно)*

### Источник данных

- **Источник 1**: [название и описание источника]
- **Источник 2**: [название и описание источника]

### Размер датасета

- **Общее количество**: [количество записей/образцов]
- **Размер файла**: [например, 500MB, 2GB]
- **Размерность**: [например, 28x28x3 для изображений]

## Качество данных *(обязательно)*

### Описание качества данных

[опишите качество данных, наличие missing values, outliers, etc.]

### Известные проблемы

- **Missing values**: [процент и локация]
- **Duplicates**: [процент]
- **Outliers**: [описание]
- **Noise**: [описание]
- **Imbalance**: [описание несбалансированности классов, если применимо]

## ML Критерии успеха *(обязательно)*

<!--
  ОБЯЗАТЕЛЬНО: Определите измеримые критерии успеха.
  Они должны быть технологически независимыми и измеримыми.
-->

### Измеримые результаты

- **SC-001**: [Измеримая метрика, например, "Модель достигает F1 >= 0.85 на тестовой выборке"]
- **SC-002**: [Измеримая метрика, например, "Pipeline обрабатывает 1000 записей в секунду без деградации"]
- **SC-003**: [Метрика удовлетворенности, например, "90% предсказаний модели согласуются с экспертной оценкой"]
- **SC-004**: [Бизнес-метрика, например, "Снижение времени на обучение модели на 50% за счет автоматизации"]

## ML Архитектура и дизайн

### ML Pipeline

```
[Описание архитектуры ML pipeline]
```

### ML Stack

- **Processing**: [например, pandas, numpy]
- **ML**: [например, scikit-learn, XGBoost]
- **Experiment Tracking**: [например, MLflow]
- **Serving**: [например, FastAPI]

## ML Данные

### Источники данных

- [Источник 1]: [Описание]
- [Источник 2]: [Описание]

### Схема данных

- **Признаки**: [Описание признаков]
- **Целевая переменная**: [Описание]
- **Типы данных**: [Описание типов]

## ML Метрики

### Основные метрики

- [Метрика 1]: [Описание]
- [Метрика 2]: [Описание]

### Бизнес-метрики

- [Бизнес-метрика 1]: [Связь с ML-метриками]

## Ограничения *(необязательно)*

### Требования к латентности (Latency Requirements)

- **Inference latency**: [например, < 100ms на одно предсказание]
- **Batch latency**: [например, < 1 секунда на 1000 предсказаний]

### Hardware ограничения

- **CPU**: [например, min 4 cores, AVX2 support]
- **GPU**: [например, NVIDIA GPU с CUDA 11.0+, min 8GB VRAM]
- **RAM**: [например, min 16GB]
- **Disk space**: [например, min 10GB]

### Требования к производительности модели

- **Accuracy**: [например, >= 90%]
- **Precision/Recall**: [например, precision >= 0.85, recall >= 0.80]
- **F1-score**: [например, >= 0.85]
- **MAE/RMSE**: [для регрессии, например, MAE < 0.05]

### Другие ограничения

- [Другое ограничение 1]
- [Другое ограничение 2]

<!-- OPTIONAL SECTION: Если ограничения не применимы, этот раздел можно удалить -->